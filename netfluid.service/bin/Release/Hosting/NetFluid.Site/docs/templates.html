<p>
	NetFluid has his own template system called FluidTemplate, which is an IResponse type.
	<strong>By the way use can use any kind of template engine, just bind them into a IResponse inetrace, see "returning values" for more information</strong>
</p>
<p>
	To use a template all need to to is to make a method returning it
<pre class="csharpcode">
[Route(<span class="str">"/"</span>)]
<span class="kwrd">public</span> <span class="kwrd">object</span> Index()
{
    <span class="kwrd">return</span> <span class="kwrd">new</span> FluidTemplate(<span class="str">"index.html"</span>);
}
</pre>
</p>
<h3>Templates instructions</h3>
<p>
	To add server side instruction to your html start the line with the <strong>%</strong> symbol.
<!-- code formatted by http://manoli.net/csharpformat/ -->
<pre class="csharpcode">
% <span class="kwrd">using</span> System.Diagnostic;
&lt;html&gt;
% Debug.WriteLine(<span class="str">"Template invoked !"</span>);
&lt;/html&gt;</pre>
White pre and post the <strong>%</strong> are ignored
</p>
<h3>Cycles and condition</h3>
<p>
	Though that %{ and %} are valid FluidTemplate closures they are hard to handle and horrible to read inside the html, instead you can use the <strong>end</strong> keyword.
<!-- code formatted by http://manoli.net/csharpformat/ -->
<pre class="csharpcode">
% <span class="kwrd">if</span>(user.SignedIn)
&lt;div <span class="kwrd">class</span>=<span class="str">"mail list"</span>&gt;
     % <span class="kwrd">foreach</span>(<span class="kwrd">var</span> mail <span class="kwrd">in</span> user.Mails)
        &lt;div <span class="kwrd">class</span>=<span class="str">"item list"</span>&gt;
           &lt;a href=<span class="str">"{% mail.Link %}"</span>&gt;{% mail.Title %}&lt;/a&gt;
        &lt;/div&gt;
     % end <span class="kwrd">foreach</span>
&lt;/div&gt;
% <span class="kwrd">else</span>
&lt;div <span class="kwrd">class</span>=<span class="str">"alert"</span>&gt;
    Please sign <span class="kwrd">in</span>
&lt;/div&gt;
% end if
</pre>
Please note that % else doesn't have any "end else"
</p>
<h3>Printing variables</h3>
<p>
	as you have seen above to print the mail title and the mail link we used the <strong>{% %}</strong> tag, which transform the given variable into text using the .net method .ToString() and  paste the result inside the html
without any need of a new line	
</p>
<h3>Parameters</h3>
<p>
	FluidTemplates are compiled as method so you can use any kind of parameters exactly in the same way of a classic C# method.
	To use parameters into your template you need to declare them through the <strong>template:parameters</strong> instruction
	<!-- code formatted by http://manoli.net/csharpformat/ -->
<pre class="csharpcode">
% template:parameters(<span class="kwrd">string</span> photo, <span class="kwrd">string</span> name, <span class="kwrd">string</span> surname)
&lt;div <span class="kwrd">class</span>=<span class="str">"user info"</span>&gt;
     &lt;img src=<span class="str">"{% photo %}"</span> /&gt;&lt;span&gt;{% name %} {% surname %}
&lt;/div&gt;
</pre>
	And pass them when you invoke your template
<!-- code formatted by http://manoli.net/csharpformat/ -->
<pre class="csharpcode">
[Route(<span class="str">"/"</span>)]
<span class="kwrd">public</span> <span class="kwrd">object</span> Index()
{
	<span class="kwrd">return</span> <span class="kwrd">new</span> FluidTemplate(<span class="str">"index.html"</span>, <span class="str">"myphoto.jpg"</span>, <span class="str">"matteo"</span>, <span class="str">"fabbri"</span>);
}
</pre>
</p>