% using System;
% using System.IO;

% var updates = Directory.GetFiles("./updates");
% var docs = Directory.GetFiles("./docs");

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>netfluid</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Unleash the power .net web application on every platform.">
    <meta name="author" content="Matteo Fabbri">

    <!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css" /-->
    <!--link rel="stylesheet/less" href="less/responsive.less" type="text/css" /-->
    <!--script src="js/less-1.3.3.min.js"></script-->
    <!--append ‘#!watch’ to the browser URL, then refresh the page. -->

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="http://www.manoli.net/csharpformat/csharp.css" rel="stylesheet">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->
    <!-- Fav and touch icons -->

    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="img/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="img/favicon.png">
</head>

<body>
    <div class="container">
        <div class="row clearfix">
            <div class="col-md-8 column">
                <div class="page-header">
                    <h1>
                        <img src="/img/logo.png" alt="~netfluid" />
                        <small>C# application server with absurd performances</small>
                    </h1>
                </div>
                <div>
                    <p>
                        With netfluid you can easy develop any kind of web application in minutes, unlocking the power of .net and microsoft enterprise tools on every platform
                    </p>
                    <ul>
                        <li>
                            <strong>Portable</strong>: completly mono compatible can run on Windows, Linux, OSx and Android
                        </li>
                        <li>
                            <strong>Fast</strong>: anything is manged by the framework, just add your business logic.
                        </li>
                        <li>
                            <strong>Energy saver</strong>: on a <a href="https://www.miniand.com/products/Hackberry%20A10%20Developer%20Board">singole core 65$ ARM board</a> you can have thesame perfomance of 4-core normal pc
                        </li>
                    </ul>
                    <p>
                        NetFluid is perfect for your needs if you want:
                        <ul>
                            <li>RESTful services</li>
                            <li>persistent in-memory data</li>
                            <li>background process and threads</li>
                            <li>embeddable others types of servers</li>
                            <li>websockets</li>
                            <li>clustering</li>
                        </ul>
                    </p>
                    <p>
                        <span class='st_technorati_large' displaytext='Technorati'></span>
                        <span class='st_googleplus_large' displaytext='Google +'></span>
                        <span class='st_facebook_large' displaytext='Facebook'></span>
                        <span class='st_twitter_large' displaytext='Tweet'></span>
                        <span class='st_linkedin_large' displaytext='LinkedIn'></span>
                    </p>
                    <h3>Licensing</h3>
                    <div>
                        <p>
                            <span>NetFluid is release under</span>
                            <span><a href="http://www.gnu.org/licenses/agpl-3.0.html">AGPL license ("Affero")</a></span>
                            <br />
                            <strong>
                                In short term: you can use netfluid without any kind of warranty and any kind of charge if the result of your work is open source and under the same license.
                                If want more assistance or keep the logic of your web application confidential you need to pay me.
                            </strong>
                        </p>
                        <p>
                            <a id="modal-507630" href="#modal-container-507630" role="button" class="btn btn-primary" data-toggle="modal">So i neeed a commercial license ?</a>
                        </p>
                    </div>
                    <h3>Licensing</h3>
                    <div>
                        <table class="table table-striped">
                            <tr>
                                <th>License</th>
                                <th>Price</th>
                                <th></th>
                            </tr>
                            <tr>
                                <td>Closed source web site</td>
                                <td>100 &euro;/year</td>
                                <td>
                                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                                        <input type="hidden" name="cmd" value="_xclick-subscriptions">
                                        <input type="hidden" name="business" value="matteo@phascode.org">
                                        <input type="hidden" name="lc" value="GB">
                                        <input type="hidden" name="item_name" value="Closed Internet License">
                                        <input type="hidden" name="no_note" value="1">
                                        <input type="hidden" name="src" value="1">
                                        <input type="hidden" name="a3" value="100.00">
                                        <input type="hidden" name="p3" value="12">
                                        <input type="hidden" name="t3" value="M">
                                        <input type="hidden" name="currency_code" value="EUR">
                                        <input type="hidden" name="bn" value="PP-SubscriptionsBF:btn_subscribe_LG.gif:NonHostedGuest">
                                        <input type="image" src="https://www.paypalobjects.com/en_GB/i/btn/btn_subscribe_LG.gif" border="0" name="submit" alt="PayPal – The safer, easier way to pay online.">
                                        <img alt="" border="0" src="https://www.paypalobjects.com/it_IT/i/scr/pixel.gif" width="1" height="1">
                                    </form>

                                </td>
                            </tr>
                            <tr>
                                <td>Closed source resellable web site</td>
                                <td>600 &euro;/year</td>
                                <td>
                                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                                        <input type="hidden" name="cmd" value="_xclick-subscriptions">
                                        <input type="hidden" name="business" value="matteo@phascode.org">
                                        <input type="hidden" name="lc" value="GB">
                                        <input type="hidden" name="item_name" value="Reseller Closed Internet">
                                        <input type="hidden" name="no_note" value="1">
                                        <input type="hidden" name="src" value="1">
                                        <input type="hidden" name="a3" value="600.00">
                                        <input type="hidden" name="p3" value="12">
                                        <input type="hidden" name="t3" value="M">
                                        <input type="hidden" name="currency_code" value="EUR">
                                        <input type="hidden" name="bn" value="PP-SubscriptionsBF:btn_subscribe_LG.gif:NonHostedGuest">
                                        <input type="image" src="https://www.paypalobjects.com/en_GB/i/btn/btn_subscribe_LG.gif" border="0" name="submit" alt="PayPal – The safer, easier way to pay online.">
                                        <img alt="" border="0" src="https://www.paypalobjects.com/it_IT/i/scr/pixel.gif" width="1" height="1">
                                    </form>
                                </td>
                            </tr>
                            <tr>
                                <td>Close source linked product</td>
                                <td>1500 &euro;</td>
                                <td>
                                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                                        <input type="hidden" name="cmd" value="_xclick">
                                        <input type="hidden" name="business" value="matteo@phascode.org">
                                        <input type="hidden" name="lc" value="GB">
                                        <input type="hidden" name="item_name" value="Closed Source Linked Product">
                                        <input type="hidden" name="amount" value="1500.00">
                                        <input type="hidden" name="currency_code" value="EUR">
                                        <input type="hidden" name="button_subtype" value="services">
                                        <input type="hidden" name="no_note" value="0">
                                        <input type="hidden" name="shipping" value="0.00">
                                        <input type="hidden" name="bn" value="PP-BuyNowBF:btn_buynow_LG.gif:NonHostedGuest">
                                        <input type="image" src="https://www.paypalobjects.com/en_GB/i/btn/btn_buynow_LG.gif" border="0" name="submit" alt="PayPal – The safer, easier way to pay online.">
                                        <img alt="" border="0" src="https://www.paypalobjects.com/it_IT/i/scr/pixel.gif" width="1" height="1">
                                    </form>
                                </td>
                            </tr>
                            <tr>
                                <td>Closed source derivative product</td>
                                <td class="text-alert">FORBIDDEN</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>Buy me a beer :D</td>
                                <td>your choice</td>
                                <td>
                                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                                        <input type="hidden" name="cmd" value="_donations">
                                        <input type="hidden" name="business" value="matteo@phascode.org">
                                        <input type="hidden" name="lc" value="GB">
                                        <input type="hidden" name="item_name" value="Offer a beer to NetFluid team">
                                        <input type="hidden" name="no_note" value="0">
                                        <input type="hidden" name="currency_code" value="EUR">
                                        <input type="hidden" name="bn" value="PP-DonationsBF:btn_donate_LG.gif:NonHostedGuest">
                                        <input type="image" src="https://www.paypalobjects.com/en_GB/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal – The safer, easier way to pay online.">
                                        <img alt="" border="0" src="https://www.paypalobjects.com/it_IT/i/scr/pixel.gif" width="1" height="1">
                                    </form>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="well">
                        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                        <!-- RettangolareAnale -->
                        <ins class="adsbygoogle"
                             style="display:inline-block;width:336px;height:280px"
                             data-ad-client="ca-pub-1242825224942421"
                             data-ad-slot="9300190838"></ins>
                        <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>
                    </div>
                </div>
                <div class="modal fade" id="modal-container-507630" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h4 class="modal-title" id="myModalLabel">
                                    Affero or commercial license wizard
                                </h4>
                            </div>
                            <div class="modal-body">
                                <ul>
                                    <li>
                                        <h5>My web application</h5>
                                        <div class="radio">
                                            <label>
                                                <input name="scope" value="mypc" checked="" type="radio">
                                                Will run just on pc for hobby, study or dev purpose
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="scope" value="intranet" type="radio">
                                                Will run inside my intranet
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="scope" value="reseller-intranet" type="radio">
                                                Will run inside my customers intranet
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="scope" value="internet" type="radio">
                                                Will be exposed on the internet by me
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="scope" value="reseller-internet" type="radio">
                                                Will be exposed on the internet by my customers
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="scope" value="newversion" type="radio">
                                                Is new version of NetFluid or a derivative product
                                            </label>
                                        </div>
                                    </li>
                                    <li>
                                        <h5>The source code of my web application</h5>
                                        <div class="radio">
                                            <label>
                                                <input name="source" value="confidential" checked="" type="radio">
                                                Will be kept confidential
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="source" value="intranet" type="radio">
                                                Will be published and downloadable inside my intranet
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="source" value="reseller-intranet" type="radio">
                                                Will be published and downloadable inside my customers intranet
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="source" value="internet" type="radio">
                                                Will be published and downloadable on the internet
                                            </label>
                                        </div>
                                    </li>
                                </ul>
                                <div id="licenseWizardAffero" style="display:none">
                                    <div class="alert alert-success">
                                        <strong>Affero</strong> is good for you, no need of a commercial license
                                    </div>
                                </div>
                                <div id="licenseWizardClosedIntranet" style="display:none">
                                    <div class="alert alert-success">
                                        You need a commercial license
                                    </div>
                                </div>
                                <div id="licenseWizardResellerIntranet" style="display:none">
                                    <div class="alert alert-success">
                                        You need a commercial license
                                    </div>
                                </div>
                                <div id="licenseWizardNoSense" style="display:none">
                                    <div class="alert alert-success">
                                        You really want to keep the product for you and give the source to someone else?
                                        <br>
                                        By the way <strong>Affero</strong> is good for you, no need of a commercial license
                                    </div>
                                </div>
                                <div id="licenseWizardClosedInternet" style=" display:none">
                                    <div class="alert alert-success">
                                        You need a commercial license
                                    </div>
                                </div>
                                <div id="licenseWizardResellerInternet" style=" display:none">
                                    <div class="alert alert-success">
                                        You need a commercial license
                                    </div>
                                </div>
                                <div id="licenseWizardNewVersion" style=" display:none">
                                    <div class="alert alert-danger">
                                        <strong>Forbidden</strong>
                                    </div>
                                </div>
                                <div id="licenseWizardResult">
                                    <div class="alert alert-success">
                                        You need a commercial license
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 column">
                <div class="list-group" style="margin-top:60px">
                    <div class="list-group-item">
                        <h2>
                            <a class="text-success" href="#updates">
                                Updates <span class="badge">{% updates.Length %}</span>
                            </a>
                        </h2>
                    </div>
                    <div class="list-group-item">
                        <h2>
                            <a class="text-primary" href="#documentation">
                                Documentation <span class="badge">{% docs.Length %}</span>
                            </a>
                        </h2>
                    </div>
                    <a class="list-group-item" href="http://github.com/matteofabbri/netfluid/archive/master.zip">
                        <h2>
                            <span class="glyphicon glyphicon-download"></span>
                            <strong>
                                download latest
                            </strong>
                        </h2>
                    </a>
                    <div class="list-group-item">
                        <a href="http://www.nuget.org/packages/NetFluid/">
                            <h4>
                                <img src="/img/nuget-logo.png" class="img-responsive" alt="nuget package">
                            </h4>
                        </a>
                        <div>PM&gt; Install-Package NetFluid</div>
                    </div>
                    <div class="list-group-item">
                        <div class="row">
                            <div class="col-md-4">
                                <a href="https://github.com/matteofabbri/netfluid">
                                    <h4>
                                        <img src="/img/github-logo.png" class="img-responsive" alt="github framework repository">
                                    </h4>
                                </a>
                            </div>
                            <div class="col-md-8">
                                <a href="https://github.com/matteofabbri/netfluid">
                                    <h4>framework source code repository</h4>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="list-group-item">
                        <div class="row">
                            <div class="col-md-4">
                                <a href="https://github.com/matteofabbri/netfluid.service">
                                    <h4>
                                        <img src="/img/github-logo.png" class="img-responsive" alt="github windows service repository">
                                    </h4>
                                </a>
                            </div>
                            <div class="col-md-8">
                                <a href="https://github.com/matteofabbri/netfluid.service">
                                    <h4>windows service source code repository</h4>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="list-group-item">
                        <script type="text/javascript" src="http://www.ohloh.net/p/netfluid/widgets/project_cocomo.js"></script>
                    </div>
                    <div class="list-group-item text-center">
                        <a lang="it" href="http://barcamper.it/startup-revolutionary-road-la-techweek/">
                            <img src="/img/srr.png" class="img-responsive" alt="startup revolutionary road" />
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row clearfix">
            <section>
                <div class="col-md-12 column">
                    <h2 id="updates" class="text-success">
                        News and updates
                    </h2>
                    <div class="panel-group" id="panel-updates">
                        % int panelCounter = 0;
                        % foreach(var update in updates)
                        % var name = Path.GetFileNameWithoutExtension(update);
                        % var id = name.Replace(" ","");
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <a class="panel-title" id="#{% id %}" data-toggle="collapse" data-parent="#panel-updates" href="#panel-element-{% panelCounter %}">
                                    {% name %}
                                </a>
                            </div>
                            <div id="panel-element-{% panelCounter %}" class="panel-collapse in">
                                <div class="panel-body">
                                    {% File.ReadAllText(update) %}
                                </div>
                            </div>
                        </div>
                        % panelCounter++;
                        % end foreach
                    </div>
                </div>
            </section>
        </div>
        <div class="row clearfix">
            <section>
                <div class="col-md-12 column">
                    <h2 id="documentation" class="text-primary">
                        Documentation
                    </h2>
                    <div class="panel-group" id="panel-531160">
                        % foreach(var doc in docs)
                        % var name = Path.GetFileNameWithoutExtension(doc);
                        % var id = name.Replace(" ","");
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <a class="panel-title" data-toggle="collapse" id="#{% id %}" data-parent="#panel-updates" href="#panel-element-{% panelCounter %}">
                                    {% name %}
                                </a>
                            </div>
                            <div id="panel-element-{% panelCounter %}" class="panel-collapse collapse">
                                <div class="panel-body">
                                    {% File.ReadAllText(doc) %}
                                </div>
                            </div>
                        </div>
                        % panelCounter++;
                        % end foreach
                    </div>
                </div>
            </section>
            <footer>
                &copy; Matteo Fabbri 2009 - 2013
            </footer>
        </div>
    </div>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/scripts.js"></script>
    <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
    <script type="text/javascript">stLight.options({ publisher: "09f4fc71-6fbd-4400-bd7e-8e703e6a01a6", doNotHash: false, doNotCopy: false, hashAddressBar: false });</script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-32315832-1']);
        _gaq.push(['_setDomainName', 'netfluid.org']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);
        (function () {
            //google
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
            $(":radio").change(function () {
                //license wizard
                var scope = $("input:radio[name=scope]:checked").val();
                var source = $("input:radio[name=source]:checked").val();
                if (scope == "mypc" || (scope == "intranet" && source == "intranet") || (scope == "reseller-intranet" && source == "reseller-intranet")) {
                    $("#licenseWizardResult").html($("#licenseWizardAffero").html());
                }
                else if (scope == "intranet" && source == "reseller-intranet") {
                    $("#licenseWizardResult").html($("#licenseWizardNoSense").html());
                }
                else if (source != "internet") {
                    switch (scope) {
                        case "intranet":
                            $("#licenseWizardResult").html($("#licenseWizardClosedIntranet").html());
                            break;
                        case "reseller-intranet":
                            $("#licenseWizardResult").html($("#licenseWizardResellerIntranet").html());
                            break;
                        case "internet":
                            $("#licenseWizardResult").html($("#licenseWizardClosedInternet").html());
                            break;
                        case "reseller-internet":
                            $("#licenseWizardResult").html($("#licenseWizardResellerInternet").html());
                            break;
                        case "newversion":
                            $("#licenseWizardResult").html($("#licenseWizardNewVersion").html());
                            break;
                    }
                }
                else {
                    $("#licenseWizardResult").html($("#licenseWizardAffero").html());
                }
                event.preventDefault();
            });
        })();
    </script>
</body>
</html>
