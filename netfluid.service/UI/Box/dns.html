% using System;
% using System.Linq;



<!-- DNS -->
<h2 id="dns">
    <span>DNS</span>
</h2>
<h3 id="dns-a">
    Record A
    <!-- Button trigger modal -->
    <button class="btn btn-success" data-toggle="modal" data-target="#ModalAddRecordA">
        Add new
    </button>
</h3>
<div class="modal fade" id="ModalAddRecordA" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="AddRecordALabel">Add DNS record A</h4>
            </div>
            <div class="modal-body">
                <form method="POST" action="/dns/add">
                    <input type="hidden" name="type" value="A" />
                    <div class="form-group">
                        <label for="AddRecordAExternalHost">Domain</label>
                        <input type="text" name="name" class="form-control" id="AddRecordAExternalHost" placeholder="netfuid.org">
                    </div>
                    <div class="form-group">
                        <label for="AddRecordAIP">IP</label>
                        <input type="text" name="address" class="form-control" id="AddRecordAIP" placeholder="23.12.46.91">
                    </div>
                    <input type="submit" class="btn btn-primary" value="Add" />
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
                    % if(DNSManager.A.Count()==0)
<div class="panel panel-default">
    <div class="panel-body">
        No active DNS records
    </div>
</div>
                    % else
<table class="table">
    <tr>
        <th>Domain</th>
        <th>Address</th>
        <th></th>
        <th></th>
    </tr>
    % foreach(var a in DNSManager.A)
    <tr>
        <td>
            {% a.Name %}
        </td>
        <td>
            {% a.Address %}
        </td>
        <td>
            <button class="btn btn-primary" data-toggle="modal" data-target="#ModalUpdateRecordA{% a.Id %}">
                manage
            </button>
            <div class="modal fade" id="ModalUpdateRecordA{% a.Id %}" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title" id="AddRecordALabel">Add DNS record A</h4>
                        </div>
                        <div class="modal-body">
                            <form method="POST" action="/dns/update">
                                <input type="hidden" name="id" value="{% a.Id %}" />
                                <input type="hidden" name="type" value="A" />
                                <div class="form-group">
                                    <label for="AddRecordAExternalHost">Domain</label>
                                    <input type="text" name="name" class="form-control" id="AddRecordAExternalHost" value="{% a.Name %}">
                                </div>
                                <div class="form-group">
                                    <label for="AddRecordAIP">IP</label>
                                    <input type="text" name="address" class="form-control" id="AddRecordAIP" value="{% a.Address %}>
                                </div>
                                <div class="panel-group" id="accordion">
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h4 class="panel-title">
                                                <a data-toggle="collapse" data-parent="#accordion" href="#collapseDeleteDNS{% a.Id %}">
                                                    Delete this record
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseDeleteDNS{% a.Id %}" class="panel-collapse collapse">
                                            <div class="panel-body">
                                                Are  you sure ? <a class="btn btn-danger" href="/dns/delete/A/{% a.Id %}">delete</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <input type="submit" class="btn btn-primary" value="Save changes" />
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    % end foreach
</table>
                    % end if

<!-- RECORD CNAME -->
<h3 id="dns-cname">
    Record CNAME
    <!-- Button trigger modal -->
    <button class="btn btn-success" data-toggle="modal" data-target="#ModalAddRecordCNAME">
        Add new
    </button>
</h3>
<div class="modal fade" id="ModalAddRecordCNAME" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="AddRecordALabel">Add DNS record CNAME</h4>
            </div>
            <div class="modal-body">
                <form method="POST" action="/dns/add">
                    <input type="hidden" name="type" value="CNAME" />
                    <div class="form-group">
                        <label for="AddRecordAExternalHost">Domain</label>
                        <input type="text" name="name" class="form-control" id="AddRecordAExternalHost" placeholder="netfuid.org" required />
                    </div>
                    <div class="form-group">
                        <label for="AddRecordAIP">Alias</label>
                        <input type="text" name="alias" class="form-control" id="AddRecordAIP" placeholder="www.netfluid.org" required />
                    </div>
                    <input type="submit" class="btn btn-primary" value="Add" />
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
                    % if(DNSManager.CNAME.Count()==0)
<div class="panel panel-default">
    <div class="panel-body">
        No active DNS records
    </div>
</div>
                    % else
<table class="table">
    <tr>
        <th>Domain</th>
        <th>Alias</th>
        <th></th>
        <th></th>
    </tr>
    % foreach(var a in DNSManager.CNAME)
    <tr>
        <td>
            {% a.Name %}
        </td>
        <td>
            {% a.Alias %}
        </td>
        <td>
            <button class="btn btn-primary" data-toggle="modal" data-target="#ModalUpdateRecordA{% a.Id %}">
                manage
            </button>
            <div class="modal fade" id="ModalUpdateRecordA{% a.Id %}" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title" id="AddRecordALabel">Add DNS record CNAME</h4>
                        </div>
                        <div class="modal-body">
                            <form method="POST" action="/dns/add">
                                <input type="hidden" name="id" value="{% a.Id %}" />
                                <input type="hidden" name="type" value="CNAME" />
                                <div class="form-group">
                                    <label for="AddRecordAExternalHost">Domain</label>
                                    <input type="text" name="name" class="form-control" id="AddRecordAExternalHost" value="{% a.Name %}">
                                </div>
                                <div class="form-group">
                                    <label for="AddRecordAIP">Alias</label>
                                    <input type="text" name="alias" class="form-control" id="AddRecordAIP" value="{% a.Alias %}">
                                </div>
                                <div class="panel-group" id="accordion">
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h4 class="panel-title">
                                                <a data-toggle="collapse" data-parent="#accordion" href="#collapseDeleteDNS{% a.Id %}">
                                                    Delete this record
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseDeleteDNS{% a.Id %}" class="panel-collapse collapse">
                                            <div class="panel-body">
                                                Are  you sure ? <a class="btn btn-danger" href="/dns/delete/CNAME/{% a.Id %}">delete</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <input type="submit" class="btn btn-primary" value="Save changes" />
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    % end foreach
</table>
                    % end if

<!-- RECORD AAAA -->
<h3 id="dns-aaaa">
    Record AAAA
    <!-- Button trigger modal -->
    <button class="btn btn-success" data-toggle="modal" data-target="#ModalAddRecordAAAA">
        Add new
    </button>
</h3>
<div class="modal fade" id="ModalAddRecordAAAA" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="AddRecordALabel">Add DNS record AAAA</h4>
            </div>
            <div class="modal-body">
                <form method="POST" action="/dns/add">
                    <input type="hidden" name="type" value="AAAA" />
                    <div class="form-group">
                        <label for="AddRecordAExternalHost">Domain</label>
                        <input type="text" name="name" class="form-control" id="AddRecordAExternalHost" placeholder="netfuid.org">
                    </div>
                    <div class="form-group">
                        <label for="AddRecordAIP">IP</label>
                        <input type="text" name="address" class="form-control" id="AddRecordAIP" placeholder="23.12.46.91">
                    </div>
                    <input type="submit" class="btn btn-primary" value="Add" />
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
                    % if(DNSManager.AAAA.Count()==0)
<div class="panel panel-default">
    <div class="panel-body">
        No active DNS records
    </div>
</div>
                    % else
<table class="table">
    <tr>
        <th>Domain</th>
        <th>Address</th>
        <th></th>
        <th></th>
    </tr>
    % foreach(var a in DNSManager.AAAA)
    <tr>
        <td>
            {% a.Name %}
        </td>
        <td>
            {% a.Address %}
        </td>
        <td>
            <button class="btn btn-primary" data-toggle="modal" data-target="#ModalUpdateRecordA{% a.Id %}">
                manage
            </button>
            <div class="modal fade" id="ModalUpdateRecordA{% a.Id %}" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title" id="AddRecordALabel">Add DNS record AAAA</h4>
                        </div>
                        <div class="modal-body">
                            <form method="POST" action="/dns/add">
                                <input type="hidden" name="id" value="{% a.Id %}" />
                                <input type="hidden" name="type" value="AAAA" />
                                <div class="form-group">
                                    <label for="AddRecordAExternalHost">Domain</label>
                                    <input type="text" name="name" class="form-control" id="AddRecordAExternalHost" value="{% a.Name %}">
                                </div>
                                <div class="form-group">
                                    <label for="AddRecordAIP">IP</label>
                                    <input type="text" name="address" class="form-control" id="AddRecordAIP" value="{% a.Address %}">
                                </div>
                                <div class="panel-group" id="accordion">
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h4 class="panel-title">
                                                <a data-toggle="collapse" data-parent="#accordion" href="#collapseDeleteDNS{% a.Id %}">
                                                    Delete this record
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseDeleteDNS{% a.Id %}" class="panel-collapse collapse">
                                            <div class="panel-body">
                                                Are  you sure ? <a class="btn btn-danger" href="/dns/delete/AAAA/{% a.Id %}">delete</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <input type="submit" class="btn btn-primary" value="Save changes" />
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    % end foreach
</table>
                    % end if

<!-- RECORD MX -->
<h3 id="dns-mx">
    Record MX
    <!-- Button trigger modal -->
    <button class="btn btn-success" data-toggle="modal" data-target="#ModalAddRecordMX">
        Add new
    </button>
</h3>
<div class="modal fade" id="ModalAddRecordMX" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="AddRecordALabel">Add DNS record MX</h4>
            </div>
            <div class="modal-body">
                <form method="POST" action="/dns/add">
                    <input type="hidden" name="type" value="MX" />
                    <div class="form-group">
                        <label for="AddRecordAExternalHost">Domain</label>
                        <input type="text" name="name" class="form-control" id="AddRecordAExternalHost" placeholder="netfuid.org">
                    </div>
                    <div class="form-group">
                        <label for="AddRecordAExchange">Exchange</label>
                        <input type="text" name="exchange" class="form-control" id="AddRecordAExchange" placeholder="23.12.46.91">
                    </div>
                    <div class="form-group">
                        <label for="AddRecordMXPref">Preference</label>
                        <input type="text" name="preference" class="form-control" id="AddRecordAExchange" value="20">
                    </div>
                    <input type="submit" class="btn btn-primary" value="Add" />
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
                    % if(DNSManager.MX.Count()==0)
<div class="panel panel-default">
    <div class="panel-body">
        No active DNS records
    </div>
</div>
                    % else
<table class="table">
    <tr>
        <th>Domain</th>
        <th>Exchange</th>
        <th>Preference</th>
        <th></th>
    </tr>
    % foreach(var a in DNSManager.MX)
    <tr>
        <td>
            {% a.Name %}
        </td>
        <td>
            {% a.Exchange %}
        </td>
        <td>
            {% a.Preference %}
        </td>
        <td>
            <button class="btn btn-primary" data-toggle="modal" data-target="#ModalUpdateRecordMX{% a.Id %}">
                manage
            </button>
            <div class="modal fade" id="ModalUpdateRecordMX{% a.Id %}" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title" id="AddRecordALabel">Add DNS record MX</h4>
                        </div>
                        <div class="modal-body">
                            <form method="POST" action="/dns/add">
                                <input type="hidden" name="id" value="{% a.Id %}" />
                                <input type="hidden" name="type" value="MX" />
                                <div class="form-group">
                                    <label for="AddRecordAExternalHost{% a.Id %}">Domain</label>
                                    <input type="text" name="name" class="form-control" id="AddRecordAExternalHost{% a.Id %}" value="{% a.Name %}">
                                </div>
                                <div class="form-group">
                                    <label for="AddRecordAExchange{% a.Id %}">Exchange</label>
                                    <input type="text" name="exchange" class="form-control" id="AddRecordAExchange{% a.Id %}" value="{% a.Exchange %}">
                                </div>
                                <div class="form-group">
                                    <label for="AddRecordMXPref{% a.Id %}">Preference</label>
                                    <input type="text" name="preference" class="form-control" id="AddRecordMXPref{% a.Id %}" value="{% a.Preference %}">
                                </div>
                                <div class="panel-group" id="accordion">
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h4 class="panel-title">
                                                <a data-toggle="collapse" data-parent="#accordion" href="#collapseDeleteDNS{% a.Id %}">
                                                    Delete this record
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseDeleteDNS{% a.Id %}" class="panel-collapse collapse">
                                            <div class="panel-body">
                                                Are  you sure ? <a class="btn btn-danger" href="/dns/delete/MX/{% a.Id %}">delete</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <input type="submit" class="btn btn-primary" value="Save changes" />
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    % end foreach
</table>
                    % end if

<!-- RECORD TXT -->
<h3 id="dns-txt">
    Record TXT
    <!-- Button trigger modal -->
    <button class="btn btn-success" data-toggle="modal" data-target="#ModalAddRecordTXT">
        Add new
    </button>
</h3>
<div class="modal fade" id="ModalAddRecordTXT" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="AddRecordALabel">Add DNS record TXT</h4>
            </div>
            <div class="modal-body">
                <form method="POST" action="/dns/add">
                    <input type="hidden" name="type" value="TXT" />
                    <div class="form-group">
                        <label for="AddRecordAExternalHost">Domain</label>
                        <input type="text" name="name" class="form-control" id="AddRecordAExternalHost" placeholder="netfuid.org">
                    </div>
                    <div class="form-group">
                        <label for="AddRecordAText">Text</label>
                        <input type="text" name="text" class="form-control" id="AddRecordAText" placeholder="23.12.46.91">
                    </div>
                    <input type="submit" class="btn btn-primary" value="Add" />
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
                    % if(DNSManager.TXT.Count()==0)
<div class="panel panel-default">
    <div class="panel-body">
        No active DNS records
    </div>
</div>
                    % else
<table class="table">
    <tr>
        <th>Domain</th>
        <th>Text</th>
        <th></th>
    </tr>
    % foreach(var a in DNSManager.TXT)
    <tr>
        <td>
            {% a.Name %}
        </td>
        <td>
            {% a.Text %}
        </td>
        <td>
            <button class="btn btn-primary" data-toggle="modal" data-target="#ModalUpdateRecordTXT{% a.Id %}">
                manage
            </button>
            <div class="modal fade" id="ModalUpdateRecordTXT{% a.Id %}" tabindex="-1" role="dialog" aria-labelledby="AddRecordALabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title" id="AddRecordALabel">Add DNS record TXT</h4>
                        </div>
                        <div class="modal-body">
                            <form method="POST" action="/dns/add">
                                <input type="hidden" name="id" value="{% a.Id %}" />
                                <input type="hidden" name="type" value="TXT" />
                                <div class="form-group">
                                    <label for="AddRecordAExternalHost{% a.Id %}">Domain</label>
                                    <input type="text" name="name" class="form-control" id="AddRecordAExternalHost{% a.Id %}" value="{% a.Name %}">
                                </div>
                                <div class="form-group">
                                    <label for="AddRecordAText{% a.Id %}">Text</label>
                                    <input type="text" name="text" class="form-control" id="AddRecordAText{% a.Id %}" value="{% a.Text %}">
                                </div>
                                <div class="panel-group" id="accordion">
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h4 class="panel-title">
                                                <a data-toggle="collapse" data-parent="#accordion" href="#collapseDeleteDNS{% a.Id %}">
                                                    Delete this record
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseDeleteDNS{% a.Id %}" class="panel-collapse collapse">
                                            <div class="panel-body">
                                                Are  you sure ? <a class="btn btn-danger" href="/dns/delete/TXT/{% a.Id %}">delete</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <input type="submit" class="btn btn-primary" value="Save changes" />
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    % end foreach
</table>
% end if