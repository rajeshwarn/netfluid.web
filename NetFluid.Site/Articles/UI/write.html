
% template:parameters(Article art)
% var article = art;
% var user = Context.Session<User>("user");


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Here you can publish content at NetFluid.org">
    <meta name="author" content="{% user %}@netfluid.org">
    <link rel="shortcut icon" href="/ico/favicon.png">

    <title>Write an article @ NetFluid</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/my.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">

      <!-- Static navbar -->
      <div class="navbar navbar-default">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
              <span class="Tilde">&#126;</span>
              <span class="Net">Net</span>
              <span class="Fluid">Fluid</span>
          </a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li>
                <a href="/"><span class="glyphicon glyphicon-home"></span><span>home</span></a>
            </li>
            <li>
                <a href="/documentation"><span class="glyphicon glyphicon-file"></span><span>documentation</span></a>
            </li>
            <li>
                <a href="/examples"><span class="glyphicon glyphicon-wrench"></span><span>examples</span></a>
            </li>
            <li>
                <a href="/disqus"><span class="glyphicon glyphicon-user"></span><span>disqus</span></a>
            </li>
            <li>
                <a href="/download"><span class="glyphicon glyphicon-cloud-download"></span><span>download</span></a>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right contactbar">
              % if(Context.Session("user")==null)
                <li><a href="/signin"><span class="glyphicon glyphicon-log-in"></span><span>sign in</span></a></li>
              % else
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-user"></span>{% Context.Session("user").Name %} <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="/write"><span class="glyphicon glyphicon-pencil"></span><span>write</span></a></li>
                        <li><a href="/signout"><span class="glyphicon glyphicon-log-out"></span><span>sign out</span></a></li>
                    </ul>
                </li>
              % end if
          </ul>
        </div><!--/.nav-collapse -->
      </div>
      <div id="content">
        <h1>
            <img class="img-responsive" src="/img/logo.png" alt="netfluid" />
        </h1>
        <h2> Submit an article </h2>
        <form method="post" enctype="multipart/form-data" action="/{% article==null? "save" : "edit" %}" role="form">
            <div class="form-group">
                <label for="txtTitle">Title</label>
                <input type="text" class="form-control" id="txtTitle" value="{% article==null? "" : article.Title %}" name="title" placeholder="Title">
            </div>
            <div class="form-group">
                <label for="txtLink">Link</label>
                /read/<input type="text" class="form-control" value="{% article==null? "" : article.Link %}" id="txtLink" name="link" placeholder="Link">
            </div>
            <div class="form-group">
                <label for="txtCategory">Category</label>
                <select class="form-control" id="txtCategory" name="category">
                    <option value="{% article==null? "" : article.Category %}">{% article==null? "" : article.Category %}</option>
                    <option value="Documentation">Documentation</option>
                    <option value="Examples">Examples</option>
                    <option value="Help">Help</option>
                    <option value="Discover">Discover</option>
                    <option value="Download">Download</option>
                </select> 
            </div>
            <div class="form-group">
                <label for="txtAbstract">Abstract</label>
                <textarea class="form-control" id="txtAbstract" name="abstract" placeholder="A small resume of your article">
                    {% article==null? "" : article.Abstract %}
                </textarea>
            </div>
            <div class="form-group">
                <label for="txtBody">Body</label>
                <textarea class="form-control" id="txtBody" name="body" placeholder="Body">
                    {% article==null? "" : article.Body %}
                </textarea>
            </div>
            <div class="form-group">
                <label for="filesToUpload">Attachments</label>
                <input name="filesToUpload[]" id="filesToUpload" type="file" multiple="" />
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
      <hr class="featurette-divider" />
      <footer>
          <p class="pull-right">
              
              
          </p>
            <p>
                &copy; 2013 Matteo Fabbri
            </p>
      </footer>
    </div>
    <!-- /container -->
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.js"></script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-32315832-1']);
        _gaq.push(['_setDomainName', 'netfluid.org']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
  </body>
</html>
